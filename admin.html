<!DOCTYPE html>
<html>
<head>
  <title>Bassim Orders</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body { padding: 40px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 15px; border: 1px solid var(--gold); }
    th { background: var(--navy); }
  </style>
</head>
<body>
  <h1>BASSIM ORDERS</h1>
  <table id="orders"></table>

  <script>
    const BACKEND_URL = 'https://courageous-trust-production-53f0.up.railway.app';

    fetch(`${BACKEND_URL}/orders`)
      .then(r => r.json())
      .then(orders => {
        let html = `<tr><th>ID</th><th>Date</th><th>Name</th><th>Phone</th><th>City</th><th>Total</th><th>Items</th></tr>`;
        orders.forEach(o => {
          const items = o.items.map(i => `${i.name} (${i.qty || 1}Ã—)`).join('<br>');
          html += `<tr>
            <td>${o.order_id}</td>
            <td>${o.timestamp}</td>
            <td>${o.name}</td>
            <td>${o.phone}</td>
            <td>${o.city}</td>
            <td>${o.total} MAD</td>
            <td>${items}</td>
          </tr>`;
        });
        document.getElementById('orders').innerHTML = html;
      });
  </script>
</body>
</html>